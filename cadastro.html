<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>- Dasafio Senior - Ycaro Lehmkuhl -</title>
    <link rel="stylesheet" href="styletab.css" />
    <!-- CSS only -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>

    <!-- CSS only -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <nav class="navbar navbar-expand-sm bg-ligh">
      <div class="container-fluid">
        <a class="navbar-brand" href="#cabecalho">
          <img
            src="assets/logo-senior.png"
            width="130"
            height="100"
            alt=""
            loading="lazy"
          />
        </a>
        
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="index.html"
                >Home</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="cadastro.html">Tabela Cadastro</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <main>
      <table class="table table-success table-striped">
        <thead>
          <tr>
            <th scope="col"></th>
            <th scope="col">Nome do item</th>
            <th scope="col">Unidade de medida</th>
            <th scope="col">Quantidade</th>
            <th scope="col">Preço</th>
            <th scope="col">Produto Perecível</th>
            <th scope="col">Data de fabricação</th>
            <th scope="col">Data de validade</th>
            <th scope="col"></th>       
          </tr>
          
        </thead>
        <tbody>

        </tbody>
      </table>
    </main>
    <script>
      var itens = JSON.parse(localStorage.getItem("itens"));
      $.each(itens, function (index, value) {
        console.log(value);
        $("tbody").append(`<tr>
        <td>${index + 1}</td>    
        <td>${value.nomeItem}</td>
        <td>${value.unidadeMedida}</td>
        <td>${value.quantidade}</td>
        <td>${value.preco}</td>
        <td>${value.perecivel}</td>
        <td>${value.dataFabricacao}</td>
        <td>${value.dataValidade}</td>
        <td><input type="button" value="Editar" onClick="alterar(${index})" /><td>
      </tr>`);
      });
      function alterar(index){
        localStorage.setItem("itemParaEditar", index);
        document.location.href="/";
      
      };

     // nmpvar itens = JSON.parse(localStorage.setItem('itemParaEditar", index);
      
    </script>
  </body>
</html>
